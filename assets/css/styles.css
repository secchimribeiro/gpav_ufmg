:root {
  --bg:#fff; --fg:#111; --muted:#555; --line:#ddd; --focus:#0b57d0;
  --font-main: "Source Sans 3", -apple-system, BlinkMacSystemFont,
               "Segoe UI", Roboto, Helvetica, Arial, sans-serif;}
               
* { box-sizing: border-box; }
body {
  font-weight: 400;
  line-height: 1.65; 

  margin:0; 
  font-family: var(--font-main); 
  color:var(--fg); 
  background:var(--bg);

    /* Patterned background */
  background-color: #f6f6f6;
  background-image: url("../images/pattern_bg.png");
  background-repeat: repeat;
  background-attachment: fixed;
 }
a { color: var(--focus); }
a:focus, button:focus { outline: 3px solid var(--focus); outline-offset: 2px; }
.container { 
  background: #ffffff;
  max-width: 1100px; 
  margin: 0 auto; 
  padding: 1rem; 
}
.skip-link { position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden; }
.skip-link:focus { left: 1rem; top: 1rem; width:auto; height:auto; padding:.5rem .75rem; background:#fff; border:1px solid var(--line); z-index:9999; }

.site-header { background: #ffffff; border-bottom: 1px solid var(--line); }
.header-top { padding: 1rem; }
/*.header-top { display:flex; align-items:center; justify-content:space-between; gap:1rem; padding: 1rem; flex-wrap: wrap; }*/
.brand { display:flex; gap:1rem; align-items:center; text-decoration:none; color:inherit; }
.logo { width:64px; height:auto; }
.brand-title { font-weight:700; font-size:1.1rem; }
.brand-subtitle { color:var(--muted); font-size:.9rem; }

.header-utils { display:flex; gap:.75rem; align-items:center; }
.header-utils .icon, .header-utils .lang { text-decoration:none; padding:.35rem .5rem; border:1px solid var(--line); border-radius:.5rem; color:inherit; }

.banner { padding: 0 1rem 1rem; }
.banner-frame { border:1px solid var(--line); border-radius: 1rem; overflow:hidden; }
.banner-frame img { display:block; width:100%; height:260px; object-fit:cover; }
.banner-controls { display:flex; gap:.5rem; margin-top:.5rem; }
.banner-controls button { padding:.4rem .7rem; border:1px solid var(--line); border-radius:.5rem; background:#fff; cursor:pointer; }

.site-nav {
  background: #fafafa;
}

/* Increase navigation text size by 50% */
.site-nav a {
  font-size: 1.25em;
}

.site-nav .container { padding-top: .75rem; padding-bottom: .75rem; }
.nav {
  list-style: none;
  display: flex;
  gap: 1rem;
  margin: 0;
  padding: 0;            /* important */
  align-items: center;   /* important */
}
.nav li { margin: 0; padding: 0; }
.nav a { text-decoration:none; color:inherit; padding:.25rem .35rem; border-radius:.35rem; }
.nav a:hover { background:#b0d4b5; }

.has-dropdown { position:relative; }
.dropdown { display:none; position:absolute; left:0; top:100%; background:#fff; border:1px solid var(--line); border-radius:.75rem; padding:.5rem; list-style:none; min-width: 180px; z-index: 1000; }
.has-dropdown:hover .dropdown, .has-dropdown:focus-within .dropdown { display:block; }

.site-footer { background: #ffffff; }

.cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1rem; margin: 1rem 0 2rem; }
.card { border: 1px solid var(--line); border-radius: 1rem; overflow: hidden; background: #fff; display: flex; flex-direction: column; }
.card-photo { width: 100%; height: 220px; object-fit: cover; }
.card-body { padding: 1rem; }
.card-title { margin: 0; font-size: 1.05rem; }
.card-subtitle { margin: .25rem 0 .75rem; color: var(--muted); }

.news-list { list-style: none; padding: 0; margin: 1rem 0 2rem; display: grid; gap: 1rem; }
.news-item { border: 1px solid var(--line); border-radius: 1rem; padding: 1rem; background: #fff; }
.news-item-title { margin: 0; font-size: 1.05rem; }
.news-item-meta { margin: .35rem 0 .75rem; color: var(--muted); }
.news-thumb { width: 100%; max-height: 220px; object-fit: cover; border-radius: .75rem; border: 1px solid var(--line); }

.news-post h1 { margin-top: 0; }
.news-meta { color: var(--muted); margin-top: .25rem; }
.news-cover { width: 100%; max-height: 360px; object-fit: cover; border-radius: 1rem; border: 1px solid var(--line); margin: 1rem 0; }
.news-attachments ul { padding-left: 1.25rem; }

.section-title { margin: 2rem 0 1rem; font-size: 1.2rem; }
.muted { color: var(--muted); }

.news-cards {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 1rem;
  margin: 1rem 0 2rem;
}

@media (max-width: 900px) {
  .news-cards { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 600px) {
  .news-cards { grid-template-columns: 1fr; }
}

.news-card {
  border: 1px solid var(--line);
  border-radius: 1rem;
  overflow: hidden;
  background: #fff;
}

.news-card-link { display: block; text-decoration: none; color: inherit; }
.news-card-link:hover { background: #fafafa; }

.news-card-img {
  width: 100%;
  height: 160px;
  object-fit: cover;
  display: block;
  border-bottom: 1px solid var(--line);
}
.news-card-img.placeholder {
  background: #f2f2f2;
}

.news-card-body { padding: 0.9rem; }
.news-card-title { margin: 0; font-size: 1rem; }
.news-card-meta { margin: .4rem 0 0; color: var(--muted); font-size: .9rem; }

.pub-list { display: grid; gap: 1rem; margin: 1rem 0 1.5rem; }
.pub-item { border: 1px solid var(--line); border-radius: 1rem; padding: 1rem; background: #fff; }
.pub-title { margin: 0 0 .5rem; font-size: 1.05rem; }
.pub-meta { color: var(--fg); }
.pub-links { margin-top: .5rem; }

.pager { display: flex; gap: .5rem; flex-wrap: wrap; margin: 1rem 0 2rem; }
.pager-btn { padding: .35rem .65rem; border: 1px solid var(--line); border-radius: .6rem; background: #fff; cursor: pointer; }
.pager-btn.current { border-color: var(--focus); }
.pager-btn:disabled { opacity: .5; cursor: not-allowed; }

.error { color: #a40000; }

.contact-form { margin: 1rem 0 2rem; }
.form-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 1rem; }
.field { display: flex; flex-direction: column; gap: .35rem; }
.field-full { grid-column: 1 / -1; }

label { font-weight: 600; }
input[type="text"], input[type="email"], textarea {
  padding: .6rem .7rem;
  border: 1px solid var(--line);
  border-radius: .6rem;
  font: inherit;
}
textarea { resize: vertical; min-height: 140px; }

.checkbox { font-weight: 400; display: flex; gap: .6rem; align-items: flex-start; }
.checkbox input { margin-top: .25rem; }

.btn {
  display: inline-block;
  padding: .6rem 1rem;
  border: 1px solid var(--line);
  border-radius: .6rem;
  background: #fff;
  cursor: pointer;
}
.btn:hover { background: #f6f6f6; }

@media (max-width: 700px) {
  .form-grid { grid-template-columns: 1fr; }
}

.site-header,
.site-nav,
.site-footer {
  background: transparent;
}

.site-header .container,
.site-nav .container,
.site-footer .container {
  background: transparent;
  border-radius: 0;
  padding-top: 0;
  padding-bottom: 0;
}

/* === HARD OVERRIDES: keep structure readable over patterned background === */

/* Page background stays patterned */
body {
  background-color: #f6f6f6;
  background-image: url("../images/pattern_bg.png");
  background-repeat: repeat;
}

/* Header / Nav / Footer must be solid (not transparent) */
.site-header { background: #ffffff !important; }
.site-nav    { background: #fafafa !important; }
.site-footer { background: #ffffff !important; }

/* Keep their inner wrappers transparent so the bar looks continuous */
.site-header .container,
.site-nav .container,
.site-footer .container {
  background: transparent !important;
}

/* Main should NOT be a card: it must be transparent so sections don't connect */
main {
  background: #ffffff;
  margin-top: 0.5rem;
  padding: 1rem; 
  border-radius: 1rem;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.06);
}
/* Ensure nav stays horizontal */
.site-nav ul.nav {
  list-style: none;
  display: flex;
  gap: 1rem;
  margin: 0;
  padding: 0;
  align-items: center;
}

/* === Constrain header/nav/footer to body width === */

/* Outer wrappers should be transparent */
.site-header,
.site-nav,
.site-footer {
  background: transparent !important;
}

/* The inner container becomes the visible bar (same width as main) */
.site-header .container,
.site-nav .container,
.site-footer .container {
  background: #ffffff !important;
  border-radius: 1rem;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.06);
}

/* Nav bar slightly different tone (optional, but matches previous look) */
.site-nav .container {
  background: #fafafa !important;
}

/* Ensure spacing looks consistent */
.site-header .container { padding-top: 1rem; padding-bottom: 1rem; }
.site-nav .container { padding-top: .75rem; padding-bottom: .75rem; }
.site-footer .container { padding-top: 1rem; padding-bottom: 1rem; }

/* Keep main consistent with same radius/shadow */
main {
  background: #ffffff;
  margin-top: 0.5rem;
  border-radius: 1rem;
  padding: 1rem;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.06);
}

/* === REMOVE LINE BETWEEN HEADER AND NAV === */

/* No borders between header and nav */
.site-header,
.site-nav {
  border: none !important;
}

/* Make header and nav containers visually continuous */
.site-header .container {
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
  margin-bottom: 0;
}

.site-nav .container {
  border-top-left-radius: 0;
  border-top-right-radius: 0;
  margin-top: 0;
}

/* Ensure same background so no seam is visible */
.site-header .container,
.site-nav .container {
  background: #ffffff !important;
}

/* Kill any accidental gap */
.site-header + .site-nav {
  margin-top: 0 !important;
}

/* === Center navigation === */

.site-nav .nav {
  justify-content: center;
  text-align: center;
}

/* === Center footer text === */

.site-footer {
  text-align: center;
}

.site-footer p {
  margin-left: auto;
  margin-right: auto;
}

/* Recent publications cards */
.pub-cards-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 1rem;
  margin: 1rem 0 1.5rem;
}

@media (max-width: 900px) {
  .pub-cards-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 600px) {
  .pub-cards-grid { grid-template-columns: 1fr; }
}

.pub-card {
  border: 1px solid var(--line);
  border-radius: 1rem;
  background: #fff;
  overflow: hidden;
}

.pub-card-link {
  display: block;
  text-decoration: none;
  color: inherit;
}

.pub-card-link:hover { background: #fafafa; }

.pub-card-body { padding: 0.9rem; }
.pub-card-title { margin: 0; font-size: 1rem; }
.pub-card-meta { margin: .4rem 0 0; color: var(--muted); font-size: .9rem; }
.pub-card-doi { margin: .5rem 0 0; font-size: .9rem; }

#banner-frame { cursor: pointer; }
#banner-frame.is-paused { outline: 2px dashed var(--line); outline-offset: -6px; }

/* === TEAM: one card per row + image left (20%) === */
.cards { 
  display: grid;
  grid-template-columns: 1fr;  /* one card per row */
  gap: 1rem;
}

.cards .card {
  display: grid;
  grid-template-columns: 20% 1fr;
  gap: 1rem;
  align-items: start;
}

/* Force the positions (prevents accidental swapping) */
.cards .card-photo { grid-column: 1; grid-row: 1; }
.cards .card-body  { grid-column: 2; grid-row: 1; }

.cards .card-photo {
  width: 100%;
  aspect-ratio: 1 / 1;  /* square */
  object-fit: cover;
  border-radius: 0.75rem;
  border: 1px solid var(--line);
}

/* If no photo, let text take full width */
.cards .card:not(:has(.card-photo)) {
  grid-template-columns: 1fr;
}
.cards .card:not(:has(.card-photo)) .card-body {
  grid-column: 1;
}

/* Mobile: stack */
@media (max-width: 650px) {
  .cards .card {
    grid-template-columns: 1fr;
  }
  .cards .card-photo,
  .cards .card-body {
    grid-column: 1;
  }
  .cards .card-photo {
    max-width: 240px;
  }
}

/* Team: one card per row; photo left (20%), text right */
.cards { display: grid; grid-template-columns: 1fr; gap: 1rem; }
.cards .card { display: grid; grid-template-columns: 20% 1fr; gap: 1rem; align-items: start; }
.cards .card-photo { width: 100%; aspect-ratio: 1 / 1; object-fit: cover; border-radius: .75rem; border: 1px solid var(--line); }
.cards .card-body { padding: 0; }

@media (max-width: 650px) {
  .cards .card { grid-template-columns: 1fr; }
  .cards .card-photo { max-width: 240px; }
}

/* Header: brand left, utils right */
.header-top{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
}

/* Let the brand take remaining space if needed */
.header-top .brand{
  display: flex;
  align-items: center;
  gap: 1rem;
  text-decoration: none;
  color: inherit;
  flex: 1;
  min-width: 0;
}

/* Keep brand text from forcing wrapping weirdly */
.brand-text{ min-width: 0; }
.brand-title, .brand-subtitle{
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Right-side utilities */
.header-utils{
  display: flex;
  align-items: center;
  gap: 0.75rem;
  justify-content: flex-end;
}

/* Mobile: stack utils below brand */
@media (max-width: 700px){
  .header-top{
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
  .header-utils{
    justify-content: center;
    width: 100%;
  }
  .brand-title, .brand-subtitle{
    white-space: normal;
    text-overflow: clip;
  }
}

/* Language flag icon */
.flag-icon{
  width: 1.5rem;
  height: auto;
  display: block;
  border-radius: 0.2rem;
  box-shadow: 0 0 0 1px var(--line);
}

/* Align flag nicely with other header icons */
.header-utils .lang{
  display: flex;
  align-items: center;
}

/* === Header: double logo and text size === */

/* Logo */
.site-header .logo {
  width: 120px;          /* adjust if needed */
  height: auto;
}

/* Brand title (main line) */
.site-header .brand-title {
  font-size: 2.4rem;     /* ~2× typical default */
  line-height: 1.15;
}

/* Brand subtitle */
.site-header .brand-subtitle {
  font-size: 1.4rem;     /* ~2× subtitle */
  line-height: 1.2;
}

/* Keep brand nicely aligned */
.header-top .brand {
  align-items: center;
}

/* Dropdown submenu */
.has-submenu { position: relative; }

.submenu {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 220px;
  margin: 0;
  padding: .5rem;
  list-style: none;
  background: #fff;
  border: 1px solid var(--line);
  border-radius: .75rem;
  box-shadow: 0 10px 24px rgba(0,0,0,.08);
  z-index: 50;
}

.has-submenu:hover .submenu,
.has-submenu:focus-within .submenu {
  display: block;
}

.submenu li { margin: 0; }
.submenu a {
  display: block;
  padding: .45rem .6rem;
  border-radius: .5rem;
  text-decoration: none;
  color: inherit;
}
.submenu a:hover,
.submenu a:focus {
  background: #f5f5f5;
  outline: none;
}

/* Extra spacing between Team and Collaborators in About submenu */
.submenu li:nth-child(3) {
  margin-top: 1.5rem; /* doubles spacing visually */
}

/* === Footer: 3 columns (text left, logos centered) === */

.footer-grid{
  display: grid;
  grid-template-columns: 1.6fr 1fr 1fr;
  gap: 1rem;
  align-items: center;
}

.footer-text{
  text-align: left;
  line-height: 1.0;
}

.footer-logo{
  display: flex;
  justify-content: center;
  align-items: center;
}

.footer-img{
  max-width: 180px;
  width: 100%;
  height: auto;
  object-fit: contain;
}

/* Mobile: stack nicely */
@media (max-width: 800px){
  .footer-grid{
    grid-template-columns: 1fr;
    text-align: center;
  }
  .footer-text{
    text-align: left; /* keep your requirement */
    justify-self: center;
    max-width: 34rem;
  }
}

/* Footer privacy link centered across all columns */
.footer-privacy {
  grid-column: 1 / -1; /* span all columns */
  text-align: center;
  margin-top: 0.75rem;
}

.footer-privacy a {
  text-decoration: none;
}

.footer-privacy a:hover {
  text-decoration: underline;
}

/* Detach footer from main content */
.site-footer {
  margin-top: .5rem;       /* space from body */
  padding-top: .5rem;
  background: #f8f9fa;
}

.instagram-feed { margin-top: 2rem; }
.instagram-feed iframe { width: 100%; border: 0; }

/* Detached section cards (Home sections like Latest News / Recent publications) */
.section-card {
  margin-top: 2rem;                 /* detaches from previous content */
  padding: 1.25rem 1.25rem 1rem;  background: #ffffff;
  border-radius: 1rem;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.06);
}



.section-card .section-title {
  margin-top: 0;
}

/* === HOME ONLY: no connecting white background between section cards === */
body.home main {
  background: transparent;
  padding: 0;
  border-radius: 0;
  box-shadow: none;
}

/* HOME section cards: fully detached with max 0.5rem spacing */
body.home .section-card {
  margin: 1rem 0;
  padding: 1rem;
  background: #ffffff;
  border-radius: 1rem;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.06);
}

/* === DEFAULT (non-home): keep pages readable with a white content surface === */
main {
  background: #ffffff;
  padding: 1rem;
  border-radius: 1rem;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.06);
}

/* === HOME ONLY: remove main surface so section cards are fully detached === */
body.home main {
  background: transparent;
  padding: 0;
  border-radius: 0;
  box-shadow: none;
}

/* HOME section cards: fully detached with max 0.5rem spacing */
body.home .section-card {
  margin: 0.5rem 0;
  padding: 0.5rem;
  background: #ffffff;
  border-radius: 1rem;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.06);
}

/* Non-home pages: force the main content "card" to be white and readable */
body:not(.home) main {
  background: #fff !important;
  color: inherit;
}

/* If your main card uses padding/radius/shadow and those were accidentally removed,
   restore them here. Comment out any lines you don't want. */
body:not(.home) main {
  padding: 1rem;
  border-radius: 1rem;
  box-shadow: 0 6px 20px rgba(0,0,0,.06);
}

body:not(.home) .container {
  background: #fff !important;
}
